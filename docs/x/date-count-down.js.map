{"version":3,"sources":["webpack:///./x/date-count-down.ts","webpack:///webpack/startup"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,cAAe,SAAQ,WAAW;IAItC;QACE,KAAK,EAAE,CAAC;QAJV,iBAAmC,SAAS,EAAC,CAAC,qBAAqB;QACnE,0BAAqB;QACrB,iBAAkB,SAAS,EAAC;QAO5B,kBAAU,GAAG,EAAE;YACb,IAAI,yCAAgB,SAAS,IAAI,CAAC,KAAK,CAAC,qCAAY,CAAC,EAAE;gBACrD,2BAAI,UAAU,uCAAc,CAAC,EAAC;gBAC9B,sCAAa,WAAW,GAAG,uCAAc,EAAE,CAAC;gBAE5C,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,UAAU,EAAE;oBAClC,OAAO,EAAE,KAAK;oBACd,QAAQ,EAAE,KAAK;iBAChB,CAAC,CAAC;gBACH,mBAAmB;gBACnB,KAAK,CAAC,MAAM,GAAG;oBACb,KAAK,sCAAa;iBACnB,CAAC;gBACF,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAE1B,IAAI,yCAAgB,CAAC,EAAE;oBACrB,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,UAAU,EAAE;wBAClC,OAAO,EAAE,KAAK;wBACd,QAAQ,EAAE,KAAK;qBAChB,CAAC,CAAC;oBACH,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;iBAC3B;aACF;QACH,CAAC,EAAC;QA1BA,2BAAI,WAAW,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,EAAC;IACrD,CAAC;IA2BD,KAAK;QACH,IAAI,yCAAgB,SAAS,EAAE;YAC7B,aAAa,CAAC,oCAAqB,CAAC,CAAC;SACtC;QAED,+CAAI,CAAU,CAAC;QAEf,MAAM,IAAI,GAAG,GAAG,EAAE;YAChB,IAAI,yCAAgB,CAAC,EAAE;gBACrB,oBAAoB,CAAC,oCAAqB,CAAC,CAAC;aAC7C;iBAAM;gBACL,+CAAI,CAAU,CAAC;gBACf,2BAAI,UAAU,qBAAqB,CAAC,IAAI,CAAC,EAAC;aAC3C;QACH,CAAC,CAAC;QAEF,2BAAI,UAAU,qBAAqB,CAAC,IAAI,CAAC,EAAC;IAC5C,CAAC;IAED,IAAI;QACF,IAAI,yCAAgB,SAAS,EAAE;YAC7B,aAAa,CAAC,oCAAqB,CAAC,CAAC;SACtC;IACH,CAAC;IAED,iBAAiB;QACf,IAAI,yCAAgB,SAAS,EAAE;YAC7B,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;YACzC,2BAAI,UAAU,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,EAAC;YAEzC,IAAI,CAAC,KAAK,EAAE,CAAC;SACd;IACH,CAAC;IAED,oBAAoB,KAAI,CAAC;IAEzB,wBAAwB,CAAC,QAAgB,EAAE,MAAc,EAAE,MAAc,IAAG,CAAC;IAE7E,eAAe,KAAI,CAAC;CACrB;;AAED,cAAc,CAAC,MAAM,CAAC,mBAAmB,EAAE,cAAc,CAAC,CAAC;;;;;;;UC5E3D;UACA;UACA;UACA","file":"date-count-down.js","sourcesContent":["class XCountDateDown extends HTMLElement {\n  #timer?: number | NodeJS.Timeout = undefined; // the internal timer\n  #shadow!: ShadowRoot;\n  #count?: number = undefined;\n  constructor() {\n    super();\n\n    this.#shadow = this.attachShadow({ mode: \"open\" });\n  }\n\n  #render = () => {\n    if (this.#count !== undefined && !isNaN(+this.#count)) {\n      this.#count = this.#count - 1;\n      this.#shadow.textContent = this.#count + \"\";\n\n      const event = new Event(\"onchange\", {\n        bubbles: false,\n        composed: false,\n      });\n      // @ts-expect-error\n      event.detail = {\n        count: this.#count,\n      };\n      this.dispatchEvent(event);\n\n      if (this.#count === 0) {\n        const event = new Event(\"onfinish\", {\n          bubbles: false,\n          composed: false,\n        });\n        this.dispatchEvent(event);\n      }\n    }\n  };\n\n  start() {\n    if (this.#timer !== undefined) {\n      clearInterval(this.#timer as number);\n    }\n\n    this.#render();\n\n    const loop = () => {\n      if (this.#count === 0) {\n        cancelAnimationFrame(this.#timer as number);\n      } else {\n        this.#render();\n        this.#timer = requestAnimationFrame(loop);\n      }\n    };\n\n    this.#timer = requestAnimationFrame(loop);\n  }\n\n  stop() {\n    if (this.#timer !== undefined) {\n      clearInterval(this.#timer as number);\n    }\n  }\n\n  connectedCallback() {\n    if (this.#timer === undefined) {\n      const count = this.getAttribute(\"count\");\n      this.#count = count ? +count : undefined;\n\n      this.start();\n    }\n  }\n\n  disconnectedCallback() {}\n\n  attributeChangedCallback(attrName: string, oldVal: string, newVal: string) {}\n\n  adoptedCallback() {}\n}\n\ncustomElements.define(\"x-date-count-down\", XCountDateDown);\n","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_modules__[2]();\n"],"sourceRoot":""}